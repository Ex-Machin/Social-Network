(this.webpackJsonpsocial_credit_system=this.webpackJsonpsocial_credit_system||[]).push([[4],{110:function(t,e,s){"use strict";var n=s(47),r=s.n(n),o=s(236),c=s.n(o),i=s(0),a=s.n(i),u=s(238),j=s.n(u),l=s(91),b=function(t){function e(e){var s;if(s=t.call(this,e)||this,!e._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return s}c()(e,t);var s=e.prototype;return s.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},s.componentDidUpdate=function(t){this.props.onSubmit!==t.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},s.render=function(){var t=this.props,e=(t._reduxForm,r()(t,["_reduxForm"]));return a.a.createElement("form",e)},e}(i.Component);b.propTypes={onSubmit:j.a.func.isRequired,_reduxForm:j.a.object},e.a=Object(l.b)(b)},234:function(t,e,s){t.exports={"form-control":"FormControls_form-control__pj4lY",error:"FormControls_error__18c5z","form-summary-error":"FormControls_form-summary-error__2S4wK"}},235:function(t,e,s){"use strict";s.d(e,"b",(function(){return l})),s.d(e,"a",(function(){return b}));var n=s(3),r=s(245),o=s(234),c=s.n(o),i=s(1),a=["input","meta","child"],u=["input","meta","child"],j=function(t){t.input;var e=t.meta,s=e.touched,n=e.error,r=t.children,o=s&&n;return Object(i.jsxs)("div",{className:c.a["form-control"]+" "+(o&&c.a.error),children:[Object(i.jsx)("div",{children:r}),Object(i.jsx)("div",{children:o&&Object(i.jsxs)("span",{children:[" ",n]})})]})},l=function(t){var e=t.input,s=(t.meta,t.child,Object(r.a)(t,a));return Object(i.jsx)(j,Object(n.a)(Object(n.a)({},t),{},{children:Object(i.jsx)("textarea",Object(n.a)(Object(n.a)({},e),s))}))},b=function(t){var e=t.input,s=(t.meta,t.child,Object(r.a)(t,u));return Object(i.jsx)(j,Object(n.a)(Object(n.a)({},t),{},{children:Object(i.jsx)("input",Object(n.a)(Object(n.a)({},e),s))}))}},237:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return r}));var n=function(t){if(!t)return"Field is required"},r=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},258:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y",contact:"ProfileInfo_contact__1N3gp"}},305:function(t,e,s){t.exports={item:"MyPosts_item__R6Jlo",postBlock:"MyPosts_postBlock__3b6E0",posts:"MyPosts_posts__3tZ1c"}},306:function(t,e,s){t.exports={item:"Post_item__1d730"}},307:function(t,e,s){},309:function(t,e,s){"use strict";s.r(e);var n=s(3),r=s(27),o=s(28),c=s(30),i=s(29),a=s(0),u=s.n(a),j=s(16),l=s(18),b=s(74),d=s(58),p=s(20),h=s(110),O=s(111),f=s(112),m=s(237),x=s(235),v=s(305),g=s.n(v),_=s(306),P=s.n(_),k=s(1),S=function(t){var e=t.message,s=t.likeCount;return Object(k.jsxs)("div",{className:P.a.posts,children:[Object(k.jsxs)("div",{className:P.a.item,children:[Object(k.jsx)("img",{src:"https://proslang.ru/wp-content/uploads/2019/03/avatarka_1-300x300.jpg",alt:""}),e]}),Object(k.jsx)("div",{children:Object(k.jsxs)("span",{children:["likes: ",s]})})]})},y=Object(m.a)(10),F=Object(f.a)({form:"posts"})((function(t){var e=t.handleSubmit;return Object(k.jsxs)(h.a,{onSubmit:e,children:[Object(k.jsx)(O.a,{name:"post",component:x.b,placeholder:"Post a message",validate:[m.b,y]}),Object(k.jsx)("button",{type:"submit",children:"Add Post"}),Object(k.jsx)("button",{children:"Remove"})]})})),w=function(t){var e=t.postsData,s=t.addPost;return Object(k.jsxs)("div",{className:g.a.postBlock,children:[Object(k.jsx)("h3",{children:"My Posts"}),Object(k.jsx)(F,{onSubmit:function(t){s(t.post)}}),Object(k.jsx)("div",{className:g.a.posts,children:Object(p.a)(e).reverse().map((function(t){return Object(k.jsx)(S,{message:t.message,likeCount:t.likeCount},t.id)}))})]})},C=Object(j.b)((function(t){return{postsData:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:d.a})(w),N=s(307),M=s.n(N),A=s(14),D=s(45),J=function(t){var e=Object(a.useState)(!1),s=Object(A.a)(e,2),n=s[0],r=s[1],o=Object(a.useState)(t.status),c=Object(A.a)(o,2),i=c[0],u=c[1];Object(a.useEffect)((function(){u(t.status)}),[t.status]);return Object(k.jsx)("div",{children:n?Object(k.jsx)("div",{children:Object(k.jsx)("input",{autoFocus:!0,onChange:function(t){return u(t.currentTarget.value)},value:i,onBlur:function(){r(!1),t.updateStatus(i)}})}):Object(k.jsx)("div",{children:Object(k.jsx)("span",{onDoubleClick:function(){return r(!0)},children:i||"--"})})})},B=s(258),I=s.n(B),E=s(73),T=s(234),U=s.n(T),R=Object(f.a)({form:"editProfile"})((function(t){var e=t.profile,s=t.handleSubmit,n=t.error;return Object(k.jsxs)("form",{onSubmit:s,children:[Object(k.jsx)("div",{children:Object(k.jsx)("button",{children:"save"})}),n&&Object(k.jsx)("div",{className:U.a["form-summary-error"],children:n}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Full name"})," :",Object(k.jsx)(O.a,{placeholder:"Full name",name:"fullName",component:x.a})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Looking for a job "}),Object(k.jsx)(O.a,{name:"lookingForAJob",component:x.a,type:"checkbox"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Skills "}),Object(k.jsx)(O.a,{placeholder:"My professionals skills",name:"lookingForAJobDescription",component:x.b})]}),Object(k.jsx)("div",{children:"About Me"}),Object(k.jsx)(O.a,{name:"aboutMe",component:x.a}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Contacts : "}),Object.keys(e.contacts).map((function(t){return Object(k.jsxs)("div",{className:I.a.contact,children:[Object(k.jsx)("b",{children:t}),Object(k.jsx)(O.a,{name:"contacts."+t,component:x.a})]},t)}))]})]})})),V=function(t){var e=t.profile,s=t.isOwner,n=t.goEditMode;return Object(k.jsxs)("div",{className:I.a.descriptionBlock,children:[s&&Object(k.jsx)("button",{onClick:n,children:"edit"}),Object(k.jsx)("div",{children:e.fullName}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Looking for a job "}),e.lookingForAJob?"Yes":"No"]}),Object(k.jsxs)("div",{children:["About me ",Object(k.jsx)("b",{children:e.aboutMe})]}),Object(k.jsxs)("div",{children:["Job Description",Object(k.jsx)("b",{children:e.lookingForAJob?e.lookingForAJobDescription:null})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Contacts : "})," ",Object.keys(e.contacts).map((function(t){return Object(k.jsx)(Y,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},Y=function(t){var e=t.contactTitle,s=t.contactValue;return Object(k.jsxs)("div",{className:I.a.contact,children:[Object(k.jsx)("b",{children:e}),":",s]})},q=function(t){var e=t.profile,s=t.status,n=t.updateStatus,r=t.isOwner,o=t.savePhoto,c=t.saveProfile,i=Object(a.useState)(!1),u=Object(A.a)(i,2),j=u[0],l=u[1];if(!e)return Object(k.jsx)(D.a,{});return Object(k.jsxs)("div",{children:[Object(k.jsx)("img",{style:{width:"200px",height:"200px"},src:e.photos.large||E.a,alt:""}),r&&Object(k.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&o(t.target.files[0])}}),j?Object(k.jsx)(R,{initialValues:e,profile:e,onSubmit:function(t){c(t).then((function(){return l(!1)}))}}):Object(k.jsx)(V,{profile:e,isOwner:r,goEditMode:function(){l(!0)}}),Object(k.jsx)(J,{status:s,updateStatus:n})]})},L=function(t){return Object(k.jsxs)("div",{className:M.a.content,children:[Object(k.jsx)(q,{profile:t.profile,isOwner:t.isOwner,savePhoto:t.savePhoto,status:t.status,updateStatus:t.updateStatus,saveProfile:t.saveProfile}),Object(k.jsx)(C,{})]})},z=function(t){Object(c.a)(s,t);var e=Object(i.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.params.id;t||(t=this.props.authorisedUserId)||this.props.navigate("/login",{replace:!0}),t&&(this.props.getUser(t),this.props.getStatus(t))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.params.id!==t.params.id&&this.refreshProfile()}},{key:"render",value:function(){return Object(k.jsx)(L,Object(n.a)(Object(n.a)({},this.props),{},{isOwner:!this.props.params.id,profile:this.props.profile,savePhoto:this.props.savePhoto,status:this.props.status,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile}))}}]),s}(u.a.Component);e.default=Object(l.d)(b.a,Object(j.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorisedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUser:d.d,getStatus:d.c,updateStatus:d.g,savePhoto:d.e,saveProfile:d.f}))(z)}}]);
//# sourceMappingURL=4.ebf32288.chunk.js.map