(this.webpackJsonpsocial_credit_system=this.webpackJsonpsocial_credit_system||[]).push([[4],{110:function(t,e,n){"use strict";var s=n(47),r=n.n(s),o=n(236),c=n.n(o),i=n(0),a=n.n(i),u=n(238),j=n.n(u),l=n(91),b=function(t){function e(e){var n;if(n=t.call(this,e)||this,!e._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return n}c()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},n.componentDidUpdate=function(t){this.props.onSubmit!==t.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},n.render=function(){var t=this.props,e=(t._reduxForm,r()(t,["_reduxForm"]));return a.a.createElement("form",e)},e}(i.Component);b.propTypes={onSubmit:j.a.func.isRequired,_reduxForm:j.a.object},e.a=Object(l.b)(b)},234:function(t,e,n){t.exports={"form-control":"FormControls_form-control__2LeGj",error:"FormControls_error__1Z7Z-","form-summary-error":"FormControls_form-summary-error__2KQQc"}},235:function(t,e,n){"use strict";n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return p}));var s=n(3),r=n(245),o=(n(0),n(111)),c=n(234),i=n.n(c),a=n(1),u=["input","meta"],j=["input","meta"],l=function(t){var e=t.meta,n=e.touched,s=e.error,r=t.children,o=n&&s;return Object(a.jsxs)("div",{className:i.a["form-control"]+" "+(o&&i.a.error),children:[Object(a.jsx)("div",{children:r}),Object(a.jsx)("div",{children:o&&Object(a.jsxs)("span",{children:[" ",s]})})]})},b=function(t){var e=t.input,n=(t.meta,Object(r.a)(t,u));return Object(a.jsx)(l,Object(s.a)(Object(s.a)({},t),{},{children:Object(a.jsx)("textarea",Object(s.a)(Object(s.a)({},e),n))}))},d=function(t){var e=t.input,n=(t.meta,Object(r.a)(t,j));return Object(a.jsx)(l,Object(s.a)(Object(s.a)({},t),{},{children:Object(a.jsx)("input",Object(s.a)(Object(s.a)({},e),n))}))};function p(t,e,n,r){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return Object(a.jsx)("div",{children:Object(a.jsx)(o.a,Object(s.a)({placeholder:t,name:e,validate:n,component:r},c))})}},237:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return r}));var s=function(t){if(!t)return"Field is required"},r=function(t){return function(e){return e.length>t?"Max length is ".concat(t," symbols"):void 0}}},258:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2NLJx",contact:"ProfileInfo_contact__3lURy"}},305:function(t,e,n){t.exports={item:"MyPosts_item__1An3v",postBlock:"MyPosts_postBlock__3bQLb",posts:"MyPosts_posts__17fwn"}},306:function(t,e,n){t.exports={item:"Post_item__1hx2L"}},307:function(t,e,n){},309:function(t,e,n){"use strict";n.r(e);var s=n(3),r=n(27),o=n(28),c=n(30),i=n(29),a=n(0),u=n.n(a),j=n(16),l=n(18),b=n(74),d=n(62),p=n(20),h=n(110),O=n(111),f=n(112),m=n(237),x=n(235),v=n(305),g=n.n(v),_=n(306),P=n.n(_),k=n(1),S=function(t){var e=t.message,n=t.likeCount;return Object(k.jsxs)("div",{className:P.a.posts,children:[Object(k.jsxs)("div",{className:P.a.item,children:[Object(k.jsx)("img",{src:"https://proslang.ru/wp-content/uploads/2019/03/avatarka_1-300x300.jpg",alt:""}),e]}),Object(k.jsx)("div",{children:Object(k.jsxs)("span",{children:["likes: ",n]})})]})},y=Object(m.a)(10),F=Object(f.a)({form:"posts"})((function(t){var e=t.handleSubmit;return Object(k.jsxs)(h.a,{onSubmit:e,children:[Object(k.jsx)(O.a,{name:"post",component:x.b,placeholder:"Post a message",validate:[m.b,y]}),Object(k.jsx)("button",{type:"submit",children:"Add Post"}),Object(k.jsx)("button",{children:"Remove"})]})})),w=function(t){var e=t.postsData,n=t.addPost;return Object(k.jsxs)("div",{className:g.a.postBlock,children:[Object(k.jsx)("h3",{children:"My Posts"}),Object(k.jsx)(F,{onSubmit:function(t){n(t.post)}}),Object(k.jsx)("div",{className:g.a.posts,children:Object(p.a)(e).reverse().map((function(t){return Object(k.jsx)(S,{message:t.message,likeCount:t.likeCount},t.id)}))})]})},C=Object(j.b)((function(t){return{postsData:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),d.a.addPost)(w),N=n(307),M=n.n(N),A=n(14),D=n(45),J=function(t){var e=Object(a.useState)(!1),n=Object(A.a)(e,2),s=n[0],r=n[1],o=Object(a.useState)(t.status),c=Object(A.a)(o,2),i=c[0],u=c[1];Object(a.useEffect)((function(){u(t.status)}),[t.status]);return Object(k.jsx)("div",{children:s?Object(k.jsx)("div",{children:Object(k.jsx)("input",{autoFocus:!0,onChange:function(t){return u(t.currentTarget.value)},value:i,onBlur:function(){r(!1),t.updateStatus(i)}})}):Object(k.jsx)("div",{children:Object(k.jsx)("span",{onDoubleClick:function(){return r(!0)},children:i||"--"})})})},B=n(258),I=n.n(B),U=n(73),L=n(234),T=n.n(L),E=Object(f.a)({form:"editProfile"})((function(t){var e=t.profile,n=t.handleSubmit,s=t.error;return Object(k.jsxs)("form",{onSubmit:n,children:[Object(k.jsx)("div",{children:Object(k.jsx)("button",{children:"save"})}),s&&Object(k.jsx)("div",{className:T.a["form-summary-error"],children:s}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Full name"})," :",Object(k.jsx)(O.a,{placeholder:"Full name",name:"fullName",component:x.a})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Looking for a job "}),Object(k.jsx)(O.a,{name:"lookingForAJob",component:x.a,type:"checkbox"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Skills "}),Object(k.jsx)(O.a,{placeholder:"My professionals skills",name:"lookingForAJobDescription",component:x.b})]}),Object(k.jsx)("div",{children:"About Me"}),Object(k.jsx)(O.a,{name:"aboutMe",component:x.a}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Contacts : "}),Object.keys(e.contacts).map((function(t){return Object(k.jsxs)("div",{className:I.a.contact,children:[Object(k.jsx)("b",{children:t}),Object(k.jsx)(O.a,{name:"contacts."+t,component:x.a})]},t)}))]})]})})),Q=function(t){var e=t.profile,n=t.isOwner,s=t.goEditMode;return Object(k.jsxs)("div",{className:I.a.descriptionBlock,children:[n&&Object(k.jsx)("button",{onClick:s,children:"edit"}),Object(k.jsx)("div",{children:e.fullName}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Looking for a job "}),e.lookingForAJob?"Yes":"No"]}),Object(k.jsxs)("div",{children:["About me ",Object(k.jsx)("b",{children:e.aboutMe})]}),Object(k.jsxs)("div",{children:["Job Description",Object(k.jsx)("b",{children:e.lookingForAJob?e.lookingForAJobDescription:null})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("b",{children:"Contacts : "})," ",Object.keys(e.contacts).map((function(t){return Object(k.jsx)(R,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},R=function(t){var e=t.contactTitle,n=t.contactValue;return Object(k.jsxs)("div",{className:I.a.contact,children:[Object(k.jsx)("b",{children:e}),":",n]})},V=function(t){var e=t.profile,n=t.status,s=t.updateStatus,r=t.isOwner,o=t.savePhoto,c=t.saveProfile,i=Object(a.useState)(!1),u=Object(A.a)(i,2),j=u[0],l=u[1];if(!e)return Object(k.jsx)(D.a,{});return Object(k.jsxs)("div",{children:[Object(k.jsx)("img",{style:{width:"200px",height:"200px"},src:e.photos.large||U.a,alt:""}),r&&Object(k.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&o(t.target.files[0])}}),j?Object(k.jsx)(E,{initialValues:e,profile:e,onSubmit:function(t){c(t).then((function(){return l(!1)}))}}):Object(k.jsx)(Q,{profile:e,isOwner:r,goEditMode:function(){l(!0)}}),Object(k.jsx)(J,{status:n,updateStatus:s})]})},q=function(t){return Object(k.jsxs)("div",{className:M.a.content,children:[Object(k.jsx)(V,{profile:t.profile,isOwner:t.isOwner,savePhoto:t.savePhoto,status:t.status,updateStatus:t.updateStatus,saveProfile:t.saveProfile}),Object(k.jsx)(C,{})]})},Z=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"refreshProfile",value:function(){var t=this.props.params.id;t||(t=this.props.authorisedUserId)||this.props.navigate("/login",{replace:!0}),t&&(this.props.getUser(t),this.props.getStatus(t))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,n){this.props.params.id!==t.params.id&&this.refreshProfile()}},{key:"render",value:function(){return Object(k.jsx)(q,Object(s.a)(Object(s.a)({},this.props),{},{isOwner:!this.props.params.id,profile:this.props.profile,savePhoto:this.props.savePhoto,status:this.props.status,updateStatus:this.props.updateStatus,saveProfile:this.props.saveProfile}))}}]),n}(u.a.Component);e.default=Object(l.d)(b.a,Object(j.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorisedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUser:d.d,getStatus:d.c,updateStatus:d.g,savePhoto:d.e,saveProfile:d.f}))(Z)}}]);
//# sourceMappingURL=4.7641ae94.chunk.js.map