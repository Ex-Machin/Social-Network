(this.webpackJsonpsocial_credit_system=this.webpackJsonpsocial_credit_system||[]).push([[4],{109:function(t,e,s){"use strict";var r=s(46),n=s.n(r),o=s(234),c=s.n(o),i=s(0),a=s.n(i),u=s(237),p=s.n(u),j=s(90),d=function(t){function e(e){var s;if(s=t.call(this,e)||this,!e._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return s}c()(e,t);var s=e.prototype;return s.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},s.componentDidUpdate=function(t){this.props.onSubmit!==t.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},s.render=function(){var t=this.props,e=(t._reduxForm,n()(t,["_reduxForm"]));return a.a.createElement("form",e)},e}(i.Component);d.propTypes={onSubmit:p.a.func.isRequired,_reduxForm:p.a.object},e.a=Object(j.b)(d)},233:function(t,e,s){t.exports={"form-control":"FormControls_form-control__pj4lY",error:"FormControls_error__18c5z","form-summary-error":"FormControls_form-summary-error__2S4wK"}},235:function(t,e,s){"use strict";s.d(e,"b",(function(){return r})),s.d(e,"a",(function(){return n}));var r=function(t){if(!t)return"Field is required"},n=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},236:function(t,e,s){"use strict";s.d(e,"b",(function(){return j})),s.d(e,"a",(function(){return d}));var r=s(4),n=s(244),o=s(233),c=s.n(o),i=s(1),a=["input","meta","child"],u=["input","meta","child"],p=function(t){t.input;var e=t.meta,s=e.touched,r=e.error,n=t.children,o=s&&r;return Object(i.jsxs)("div",{className:c.a["form-control"]+" "+(o&&c.a.error),children:[Object(i.jsx)("div",{children:n}),Object(i.jsx)("div",{children:o&&Object(i.jsxs)("span",{children:[" ",r]})})]})},j=function(t){var e=t.input,s=(t.meta,t.child,Object(n.a)(t,a));return Object(i.jsx)(p,Object(r.a)(Object(r.a)({},t),{},{children:Object(i.jsx)("textarea",Object(r.a)(Object(r.a)({},e),s))}))},d=function(t){var e=t.input,s=(t.meta,t.child,Object(n.a)(t,u));return Object(i.jsx)(p,Object(r.a)(Object(r.a)({},t),{},{children:Object(i.jsx)("input",Object(r.a)(Object(r.a)({},e),s))}))}},303:function(t,e,s){t.exports={item:"MyPosts_item__R6Jlo",postBlock:"MyPosts_postBlock__3b6E0",posts:"MyPosts_posts__3tZ1c"}},304:function(t,e,s){t.exports={item:"Post_item__1d730"}},305:function(t,e,s){},306:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y"}},308:function(t,e,s){"use strict";s.r(e);var r=s(4),n=s(25),o=s(26),c=s(28),i=s(27),a=s(0),u=s.n(a),p=s(16),j=s(18),d=s(73),l=s(58),b=s(20),m=s(109),f=s(110),h=s(111),O=s(235),x=s(236),v=s(303),_=s.n(v),g=s(304),S=s.n(g),k=s(1),P=function(t){var e=t.message,s=t.likeCount;return Object(k.jsxs)("div",{className:S.a.posts,children:[Object(k.jsxs)("div",{className:S.a.item,children:[Object(k.jsx)("img",{src:"https://proslang.ru/wp-content/uploads/2019/03/avatarka_1-300x300.jpg",alt:""}),e]}),Object(k.jsx)("div",{children:Object(k.jsxs)("span",{children:["likes: ",s]})})]})},y=Object(O.a)(10),F=Object(h.a)({form:"posts"})((function(t){var e=t.handleSubmit;return Object(k.jsxs)(m.a,{onSubmit:e,children:[Object(k.jsx)(f.a,{name:"post",component:x.b,placeholder:"Post a message",validate:[O.b,y]}),Object(k.jsx)("button",{type:"submit",children:"Add Post"}),Object(k.jsx)("button",{children:"Remove"})]})})),C=function(t){var e=t.postsData,s=t.addPost;return Object(k.jsxs)("div",{className:_.a.postBlock,children:[Object(k.jsx)("h3",{children:"My Posts"}),Object(k.jsx)(F,{onSubmit:function(t){s(t.post)}}),Object(k.jsx)("div",{className:_.a.posts,children:Object(b.a)(e).reverse().map((function(t){return Object(k.jsx)(P,{message:t.message,likeCount:t.likeCount},t.id)}))})]})},w=Object(p.b)((function(t){return{postsData:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),{addPost:l.a})(C),M=s(305),N=s.n(M),B=s(43),D=s(13),I=function(t){var e=Object(a.useState)(!1),s=Object(D.a)(e,2),r=s[0],n=s[1],o=Object(a.useState)(t.status),c=Object(D.a)(o,2),i=c[0],u=c[1];Object(a.useEffect)((function(){u(t.status)}),[t.status]);return Object(k.jsx)("div",{children:r?Object(k.jsx)("div",{children:Object(k.jsx)("input",{autoFocus:!0,onChange:function(t){return u(t.currentTarget.value)},value:i,onBlur:function(){n(!1),t.updateStatus(i)}})}):Object(k.jsx)("div",{children:Object(k.jsx)("span",{onDoubleClick:function(){return n(!0)},children:i||"--"})})})},U=s(306),E=s.n(U),T=function(t){var e=t.profile,s=t.status,r=t.updateStatus;return e?Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:E.a.descriptionBlock,children:[Object(k.jsx)("span",{children:e.fullName}),Object(k.jsx)("img",{src:e.photos.large,alt:""}),Object(k.jsx)(I,{status:s,updateStatus:r})]}),Object(k.jsx)("span",{children:e.aboutMe})]}):Object(k.jsx)(B.a,{})},A=function(t){return Object(k.jsxs)("div",{className:N.a.content,children:[Object(k.jsx)(T,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(k.jsx)(w,{})]})},J=function(t){Object(c.a)(s,t);var e=Object(i.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.params.id;t||((t=this.props.authorisedUserId)?(this.props.getUser(t),this.props.getStatus(t)):this.props.navigate("/login",{replace:!0}))}},{key:"render",value:function(){return Object(k.jsx)(A,Object(r.a)(Object(r.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(u.a.Component);e.default=Object(j.d)(d.a,Object(p.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorisedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUser:l.d,getStatus:l.c,updateStatus:l.e}))(J)}}]);
//# sourceMappingURL=4.d236fcc5.chunk.js.map