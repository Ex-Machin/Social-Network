{"version":3,"sources":["components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Music/Music.jsx","components/NavBar/NavBar.jsx","components/NavBar/NavBarContainer.js","components/News/News.jsx","components/Settings/Settings.jsx","redux/user-selector.js","utils/objects-helper.js","redux/usersReducer.js","components/Paginator/Paginator.js","components/Users/User.jsx","components/Users/Users.js","components/Users/UsersContainer.jsx","redux/app-reducer.js","App.js","redux/sidebarReducer.js","redux/redux-store.js","index.js","redux/auth-reducer.js","assets/images/loading.svg","components/Preloader/Preloader.js","components/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profileReducer.js","assets/images/avatar.png","hoc/withRouter.js","redux/dialogsReducer.js","api/api.js","components/Users/users.module.css","components/NavBar/NavBar.module.css"],"names":["Header","props","className","s","header","src","alt","isAuth","login","onClick","logout","to","loginBlock","HeaderContainer","this","React","Component","connect","state","auth","profile","profilePage","Music","NavBar","friendsData","nav","isActive","active","item","friendsBlock","map","friendsImage","name","id","NavBarContainer","sidebar","News","Settings","getUsersSelector","createSelector","usersPage","users","filter","u","getPageSizeSelector","pageSize","getTotalUsersCountSelector","totalUsersCount","getCurrentPageSelector","currentPage","getIsFetchinSelector","isFetching","getFollowingInProgressSelector","followingInProgress","updateObjectInArray","items","itemId","objectPropertyName","newObjectProps","user","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","followSuccess","userId","type","unfollowSuccess","setCurrentPage","setTotalUsersCount","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","action","followed","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","p","cn","selectedPage","pageNumber","e","User","unfollow","follow","photos","small","avatarMock","userPhoto","disabled","some","status","Users","UsersContainer","page","getUsers","Preloader","compose","usersAPI","bind","data","totalCount","SET_INIT","initialized","appReducer","DialogsContainer","lazy","ProfileContainer","Login","App","initialize","init","fallback","path","element","withRouter","app","promise","getCurrentUser","Promise","all","then","sidebarReducer","reducers","combineReducers","profileReducer","dialogsPage","dialogsReducer","authReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCEESS","email","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","authAPI","response","password","rememberMe","captcha","getCaptchaUrl","message","messages","length","stopSubmit","_error","securityAPI","url","loading","module","exports","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likeCount","addPost","post","lowerFirstCharakter","string","charAt","toLowerCase","slice","setStatus","getUser","getStatus","profileAPI","updateStatus","result_code","savePhoto","file","saveProfile","getState","regex","string1","split","reject","newPost","likeCoint","location","useLocation","navigate","useNavigate","params","useParams","SEND_MESSAGE","dialogs","sendMessage","newMessageBody","instance","axios","create","withCredentials","baseURL","headers","get","console","warn","delete","put","photo","formData","FormData","append"],"mappings":"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","file":"static/js/main.0ac424e2.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport s from \"./Header.module.css\";\n\nconst Header = (props) => {\n  return (\n    <header className={s.header}>\n      <img\n        src=\"https://upload.wikimedia.org/wikipedia/commons/1/1e/RPC-JP_Logo.png\"\n        alt=\"\"\n      />\n      {props.isAuth ? (\n        <div>\n          {props.login} <button onClick={props.logout}>Logout</button>\n        </div>\n      ) : (\n        <Link to={\"/login\"} className={s.loginBlock}>\n          Login\n        </Link>\n      )}\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Header from \"./Header\";\nimport { logout } from \"../../redux/auth-reducer\";\n\nclass HeaderContainer extends React.Component {\n  componentDidMount() {\n  //  this.props.getCurrentUser();\n  }\n\n  render() {\n    return <Header {...this.props} />;\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n  profile: state.profilePage.profile,\n});\n\nexport default connect(mapStateToProps, { logout })(\n  HeaderContainer\n);\n","import React from 'react';\n//import s from './Music.module.css';\n\nconst Music = () => {\n  return (\n  <div>\n      Music\n  </div>\n  );\n};\n\nexport default Music;\n","import React from \"react\";\nimport s from \"./NavBar.module.css\";\nimport { NavLink } from \"react-router-dom\";\n\nconst NavBar = ({ friendsData }) => {\n  return (\n    <nav className={s.nav}>\n      <div>\n        <NavLink\n          to=\"/profile\"\n          className={(isActive) => (isActive ? s.active : s.item)}\n        >\n          Profile\n        </NavLink>\n      </div>\n      <div>\n        <NavLink\n          to=\"/dialogs\"\n          className={(isActive) => (isActive ? s.active : s.item)}\n        >\n          Messages\n        </NavLink>\n      </div>\n      <div>\n        <NavLink\n          to=\"/news\"\n          className={(isActive) => (isActive ? s.active : s.item)}\n        >\n          News\n        </NavLink>\n      </div>\n      <div>\n        <NavLink\n          to=\"/users\"\n          className={(isActive) => (isActive ? s.active : s.item)}\n        >\n          Users\n        </NavLink>\n      </div>\n      <div>\n        <NavLink\n          to=\"/music\"\n          className={(isActive) => (isActive ? s.active : s.item)}\n        >\n          Music\n        </NavLink>\n      </div>\n      <div>\n        <NavLink\n          to=\"/settings\"\n          className={(isActive) => (isActive ? s.active : s.item)}\n        >\n          Settings\n        </NavLink>\n      </div>\n      <div>\n        Friends\n        <div className={s.friendsBlock}>\n          {friendsData.map((item) => {\n            return (\n              <div key={item.id}>\n                <img src={item.src} alt=\"\" className={s.friendsImage}></img>\n                <div>{item.name}</div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import { connect } from \"react-redux\";\nimport NavBar from \"./NavBar\";\n\nconst mapStateToProps = (state) => {\n  return {\n    friendsData: state.sidebar,\n  };\n};\n\nconst NavBarContainer = connect(mapStateToProps)(NavBar);\n\nexport default NavBarContainer;\n","import React from 'react';\n//import s from './News.module.css';\n\nconst News = () => {\n  return (\n  <div>\n      News\n  </div>\n  );\n};\n\nexport default News;\n","import React from 'react';\n//import s from './Settings.module.css';\n\nconst Settings = () => {\n  return (\n  <div>\n      Settings\n  </div>\n  );\n};\n\nexport default Settings;\n","import { createSelector } from \"reselect\";\n\nexport const getUsers = (state) => {\n    return state.usersPage.users;\n}\n\nexport const getUsersSelector = createSelector(getUsers, (users) => {\n  return users.filter((u) => true);\n});\n\nexport const getPageSizeSelector = (state) => {\n    return state.usersPage.pageSize;\n}\nexport const getTotalUsersCountSelector = (state) => {\n    return state.usersPage.totalUsersCount;\n} \nexport const getCurrentPageSelector = (state) => {\n    return state.usersPage.currentPage;\n} \n\nexport const getIsFetchinSelector = (state) => {\n    return state.usersPage.isFetching;\n} \n\nexport const getFollowingInProgressSelector = (state) => {\n    return state.usersPage.followingInProgress;\n} ","export const updateObjectInArray = (\n  items,\n  itemId,\n  objectPropertyName,\n  newObjectProps\n) => {\n  return items.map((user) => {\n    if (user[objectPropertyName] === itemId) {\n      return { ...user, ...newObjectProps };\n    }\n    return user;\n  });\n};\n","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/objects-helper\";\n\nconst FOLLOW = \"users/FOLLOW\";\nconst UNFOLLOW = \"users/UNFOLLOW\";\nconst SET_USERS = \"users/SET-USERS\";\nconst SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\";\nconst SET_TOTAL_USERS_COUNT = \"users/SET_TOTAL_USERS_COUNT\";\nconst TOGGLE_IS_FETCHING = \"users/TOGGLE_IS_FETCHING\";\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"users/TOGGLE_IS_FOLLOWING_PROGRESS\";\n\nlet initialState = {\n  users: [],\n  pageSize: 10,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: [],\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\n          followed: true,\n        }),\n      };\n\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\n          followed: false,\n        }),\n      };\n\n    case SET_USERS: {\n      return { ...state, users: action.users };\n    }\n    case SET_CURRENT_PAGE: {\n      return { ...state, currentPage: action.currentPage };\n    }\n    case SET_TOTAL_USERS_COUNT: {\n      return { ...state, totalUsersCount: action.totalUsersCount };\n    }\n    case TOGGLE_IS_FETCHING: {\n      return { ...state, isFetching: action.isFetching };\n    }\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n          ? [...state.followingInProgress, action.userId]\n          : state.followingInProgress.filter((id) => id !== action.userId),\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const followSuccess = (userId) => ({\n  type: FOLLOW,\n  userId,\n});\nexport const unfollowSuccess = (userId) => ({\n  type: UNFOLLOW,\n  userId,\n});\nexport const setUsers = (users) => ({\n  type: SET_USERS,\n  users,\n});\nexport const setCurrentPage = (currentPage) => ({\n  type: SET_CURRENT_PAGE,\n  currentPage,\n});\nexport const setTotalUsersCount = (totalUsersCount) => ({\n  type: SET_TOTAL_USERS_COUNT,\n  totalUsersCount,\n});\nexport const toggleIsFetching = (isFetching) => ({\n  type: TOGGLE_IS_FETCHING,\n  isFetching,\n});\nexport const toggleFollowingProgress = (isFetching, userId) => ({\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\n  isFetching,\n  userId,\n});\n\nexport const getUsers = (page, pageSize) => {\n  return async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    dispatch(setCurrentPage(page));\n\n    const data = await usersAPI.getUsers(page, pageSize);\n\n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n  };\n};\n\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\n  dispatch(toggleFollowingProgress(true, id));\n  const data = await apiMethod(id);\n  if (data.resultCode === 0) {\n    dispatch(actionCreator(id));\n  }\n  dispatch(toggleFollowingProgress(false, id));\n};\n\nexport const follow = (id) => {\n  return async (dispatch) => {\n    followUnfollowFlow(\n      dispatch,\n      id,\n      usersAPI.follow.bind(usersAPI),\n      followSuccess\n    );\n  };\n};\n\nexport const unfollow = (id) => {\n  return async (dispatch) => {\n    followUnfollowFlow(\n      dispatch,\n      id,\n      usersAPI.unfollow.bind(usersAPI),\n      unfollowSuccess\n    );\n  };\n};\n\nexport default usersReducer;\n","import React, {useState} from 'react';\nimport styles from \"./Paginator.module.css\";\nimport cn from \"classnames\";\n\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n    return <div className={styles.paginator}>\n        { portionNumber > 1 &&\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\n\n            {pages\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\n                .map((p) => {\n                return <span className={ cn({\n                    [styles.selectedPage]: currentPage === p\n                }, styles.pageNumber) }\n                             key={p}\n                             onClick={(e) => {\n                                 onPageChanged(p);\n                             }}>{p}</span>\n            })}\n        { portionCount > portionNumber &&\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\n\n\n    </div>\n}\n\nexport default Paginator;","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport avatarMock from \"../../assets/images/avatar.png\";\nimport styles from \"./users.module.css\";\n\nconst User = ({ user, followingInProgress, unfollow, follow }) => {\n  return (\n    <div>\n      <div key={user.id}>\n        <span>\n          <div>\n            <NavLink to={\"/profile/\" + user.id}>\n              <img\n                src={user.photos.small || avatarMock}\n                alt=\"\"\n                className={styles.userPhoto}\n              />\n            </NavLink>\n          </div>\n          <div>\n            {user.followed ? (\n              <button\n                disabled={followingInProgress.some((id) => id === user.id)}\n                onClick={() => {\n                  unfollow(user.id);\n                }}\n              >\n                Unfollow\n              </button>\n            ) : (\n              <button\n                disabled={followingInProgress.some((id) => id === user.id)}\n                onClick={() => {\n                  follow(user.id);\n                }}\n              >\n                Follow\n              </button>\n            )}\n          </div>\n        </span>\n        <span>\n          <span>\n            <div>{user.name} </div>\n            <div>{user.status}</div>\n          </span>\n          <span>\n            {/* <div>{user.location.country}</div> \n              <div>{user.location.city}</div> */}\n          </span>\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default User;\n","import React from \"react\";\nimport Paginator from \"../Paginator/Paginator\";\nimport User from \"./User\";\n\nconst Users = ({\n  currentPage,\n  onPageChanged,\n  totalUsersCount,\n  pageSize,\n  users,\n  followingInProgress,\n  unfollow,\n  follow,\n}) => {\n  return (\n    <div>\n      <Paginator\n        currentPage={currentPage}\n        onPageChanged={onPageChanged}\n        totalItemsCount={totalUsersCount}\n        pageSize={pageSize}\n      />\n      {users.map((user) => {\n        return (\n          <User\n            key={user.id}\n            user={user}\n            followingInProgress={followingInProgress}\n            unfollow={unfollow}\n            follow={follow}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Users;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport {\n  getCurrentPageSelector,\n  getFollowingInProgressSelector, getIsFetchinSelector, getPageSizeSelector,\n  getTotalUsersCountSelector,\n  getUsersSelector\n} from \"../../redux/user-selector\";\nimport {\n  follow,\n  getUsers,\n  setCurrentPage,\n  setTotalUsersCount,\n  toggleFollowingProgress,\n  unfollow\n} from \"../../redux/usersReducer\";\nimport Preloader from \"../Preloader/Preloader\";\nimport Users from \"./Users\";\n\nclass UsersContainer extends React.Component {\n  componentDidMount() {\n    const {currentPage, pageSize} = this.props\n    this.props.getUsers(currentPage, pageSize);\n  }\n\n  onPageChanged = (page) => {\n    const { pageSize } = this.props;\n    this.props.getUsers(page, pageSize);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? (\n          <Preloader />\n        ) : (\n          <Users\n            totalUsersCount={this.props.totalUsersCount}\n            pageSize={this.props.pageSize}\n            currentPage={this.props.currentPage}\n            onPageChanged={this.onPageChanged}\n            users={this.props.users}\n            follow={this.props.follow}\n            unfollow={this.props.unfollow}\n            toggleFollowingProgress={this.props.toggleFollowingProgress}\n            followingInProgress={this.props.followingInProgress}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    users: getUsersSelector(state),\n    pageSize: getPageSizeSelector(state),\n    totalUsersCount: getTotalUsersCountSelector(state),\n    currentPage: getCurrentPageSelector(state),\n    isFetching: getIsFetchinSelector(state),\n    followingInProgress: getFollowingInProgressSelector(state),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    follow,\n    unfollow,\n    setCurrentPage,\n    setTotalUsersCount,\n    toggleFollowingProgress,\n    getUsers,\n  })\n)(UsersContainer);\n","import { getCurrentUser } from \"./auth-reducer\";\n\nconst SET_INIT = \"app/SET_INIT\";\n\nlet initialState = {\n  initialized: false,\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_INIT:\n      return {\n        ...state,\n        initialized: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const setInit = () => ({\n  type: SET_INIT,\n});\n\nexport const initialize = () => {\n  return (dispatch) => {\n    const promise = dispatch(getCurrentUser());\n    Promise.all([promise]).then(() => {\n      dispatch(setInit());\n    });\n  };\n};\n\nexport default appReducer;\n","import React, { Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Route, Routes } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport \"./App.css\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Music from \"./components/Music/Music\";\nimport NavBarContainer from \"./components/NavBar/NavBarContainer\";\nimport News from \"./components/News/News\";\nimport Preloader from \"./components/Preloader/Preloader\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport { withRouter } from \"./hoc/withRouter\";\nimport { initialize } from \"./redux/app-reducer\";\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\nconst Login = React.lazy(() => import(\"./components/Login/Login\"));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initialize();\n  }\n\n  render() {\n    if (!this.props.init) {\n      return <Preloader />;\n    } else\n      return (\n        <div className=\"app-wrapper\">\n          <HeaderContainer />\n          <NavBarContainer />\n          <div className=\"app-wrapper-content\">\n            <Suspense fallback={<div>Loading...</div>}>\n              <Routes>\n                <Route path=\"/dialogs\" element={<DialogsContainer />} />\n                <Route path=\"/profile/:id\" element={<ProfileContainer />} />\n                <Route path=\"/profile\" element={<ProfileContainer />} />\n                <Route path=\"/news\" element={<News />} />\n                <Route path=\"/music\" element={<Music />} />\n                <Route path=\"/settings\" element={<Settings />} />\n                <Route path=\"/users\" element={<UsersContainer />} />\n                <Route path=\"/login\" element={<Login />} />\n              </Routes>\n            </Suspense>\n          </div>\n        </div>\n      );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  init: state.app.initialized,\n});\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { initialize })\n)(App);\n","let initialState = [\n  {\n    id: 1,\n    name: \"Lika\",\n    src: \"https://i.quotev.com/img/q/u/20/8/16/hzedqa72l2_l.jpg\",\n  },\n  {\n    id: 2,\n    name: \"Kair\",\n    src: \"https://i.quotev.com/img/q/u/20/8/16/hzedqa72l2_l.jpg\",\n  },\n  {\n    id: 3,\n    name: \"Yulia\",\n    src: \"https://i.quotev.com/img/q/u/20/8/16/hzedqa72l2_l.jpg\",\n  },\n];\n\nconst sidebarReducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default sidebarReducer;\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\nimport profileReducer from \"./profileReducer\";\nimport dialogsReducer from \"./dialogsReducer\";\nimport sidebarReducer from \"./sidebarReducer\";\nimport usersReducer from \"./usersReducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  sidebar: sidebarReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  form: formReducer,\n  app: appReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(thunkMiddleware))\n);\n\nwindow.store = store;\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport store from \"./redux/redux-store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { stopSubmit } from \"redux-form\";\nimport { authAPI, securityAPI } from \"../api/api\";\n\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\nconst GET_CAPTCHA_URL_SUCCEESS = \"auth/GET_CAPTCHA_URL_SUCCEESS\";\n\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  captchaUrl: null, // if null, then captcha is not required\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_CAPTCHA_URL_SUCCEESS:\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const setAuthUserData = (email, userId, login, isAuth) => ({\n  type: SET_USER_DATA,\n  payload: { email, userId, login, isAuth },\n});\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\n  type: GET_CAPTCHA_URL_SUCCEESS,\n  payload: { captchaUrl },\n});\n\nexport const getCurrentUser = () => async (dispatch) => {\n  let response = await authAPI.getCurrentUser();\n\n  if (response.resultCode === 0) {\n    let { email, id, login } = response.data;\n    dispatch(setAuthUserData(email, id, login, true));\n  }\n};\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n  const data = await authAPI.login(email, password, rememberMe, captcha);\n  if (data.resultCode === 0) {\n    // success, get auth data\n    dispatch(getCurrentUser());\n  } else {\n    if (data.resultCode === 10) {\n      dispatch(getCaptchaUrl());\n    }\n    const message =\n      data.messages.length > 0 ? data.messages[0] : \"Unhandled error\";\n    dispatch(stopSubmit(\"login\", { _error: message }));\n  }\n};\n\nexport const getCaptchaUrl = () => {\n  return async (dispatch) => {\n    const data = await securityAPI.getCaptchaUrl();\n    const captchaUrl = data.url;\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\n  };\n};\n\nexport const logout = () => {\n  return async (dispatch) => {\n    const data = await authAPI.logout();\n    if (data.resultCode === 0) {\n      dispatch(setAuthUserData(null, null, null, false));\n    }\n  };\n};\n\nexport default authReducer;\n","export default __webpack_public_path__ + \"static/media/loading.b767aab4.svg\";","import React from 'react'\nimport loading from \"../../assets/images/loading.svg\";\n\nconst Preloader = () => {\n  return (\n    <div>\n      <img src={loading} alt=\"\" />\n    </div>\n  );\n}\n\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3w-2P\",\"pageNumber\":\"Paginator_pageNumber__1RptP\",\"selectedPage\":\"Paginator_selectedPage__3LxJC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","import { stopSubmit } from \"redux-form\";\nimport { profileAPI, usersAPI } from \"../api/api\";\n\nconst ADD_POST = \"profile/ADD-POST\";\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\";\nconst SET_STATUS = \"profile/SET_STATUS\";\nconst DELETE_POST = \"profile/DELETE_POST\";\nconst SAVE_PHOTO_SUCCESS = \"profile/SAVE_PHOTO_SUCCESS\";\n\nlet initialState = {\n  posts: [\n    { id: 1, message: \"Bye World\", likeCount: \"12\" },\n    { id: 2, message: \"Abrakadabra\", likeCount: \"11\" },\n  ],\n  profile: null,\n  status: \"\",\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        id: state.posts.length + 1,\n        message: action.post,\n        likeCoint: 0,\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n      };\n    case SET_USER_PROFILE: {\n      return {\n        ...state,\n        profile: action.profile,\n      };\n    }\n    case SET_STATUS: {\n      return {\n        ...state,\n        status: action.status,\n      };\n    }\n    case DELETE_POST: {\n      return {\n        ...state,\n        posts: state.posts.filter((post) => post.id !== action.id),\n      };\n    }\n    case SAVE_PHOTO_SUCCESS: {\n      return {\n        ...state,\n        profile: { ...state.profile, photos: action.photos },\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const addPost = (post) => ({\n  type: ADD_POST,\n  post,\n});\n\nfunction lowerFirstCharakter(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1);\n}\n\nexport const deletePost = (id) => ({\n  type: DELETE_POST,\n  id,\n});\n\nexport const setUserProfile = (profile) => ({\n  type: SET_USER_PROFILE,\n  profile,\n});\n\nexport const setStatus = (status) => ({\n  type: SET_STATUS,\n  status,\n});\nexport const savePhotoSuccess = (photos) => ({\n  type: SAVE_PHOTO_SUCCESS,\n  photos,\n});\n\nexport const getUser = (id) => {\n  return (dispatch) => {\n    usersAPI.getUser(id).then((data) => {\n      dispatch(setUserProfile(data));\n    });\n  };\n};\n\nexport const getStatus = (id) => {\n  return async (dispatch) => {\n    const data = await profileAPI.getStatus(id);\n\n    dispatch(setStatus(data));\n  };\n};\n\nexport const updateStatus = (status) => {\n  return async (dispatch) => {\n    const data = profileAPI.updateStatus(status);\n    if (data.result_code === 0) {\n      dispatch(setStatus(status));\n    }\n  };\n};\n\nexport const savePhoto = (file) => {\n  return async (dispatch) => {\n    const data = profileAPI.savePhoto(file);\n    if (data.result_code === 0) {\n      dispatch(savePhotoSuccess(data.photos));\n    }\n  };\n};\nexport const saveProfile = (profile) => {\n  return async (dispatch, getState) => {\n    const userId = getState().auth.userId;\n    const data = await profileAPI.saveProfile(profile);\n    if (data.resultCode === 0) {\n      dispatch(getUser(userId));\n    } else {\n      const regex = /\\(([^\\)]+)/;\n      const string1 = data.messages[0].split(regex);\n      const string = string1[1].split(\"->\");\n      if (string[1]) {\n        dispatch(\n          stopSubmit(\"editProfile\", {\n            [lowerFirstCharakter(string[0])]: {\n              [lowerFirstCharakter(string[1])]: data.messages[0],\n            },\n          })\n        );\n      } else {\n        dispatch(\n          stopSubmit(\"editProfile\", {\n            [lowerFirstCharakter(string[0])]: data.messages[0],\n          })\n        );\n      }\n      return Promise.reject(data.messages[0]);\n    }\n  };\n};\nexport default profileReducer;\n","export default __webpack_public_path__ + \"static/media/avatar.d76e1693.png\";","import { useLocation, useNavigate, useParams } from \"react-router-dom\";\n\nexport function withRouter(Component) {\n  function ComponentWithRouterProp(props) {\n    let location = useLocation();\n    let navigate = useNavigate();\n    let params = useParams();\n    return (\n      <Component\n        {...props}\n        location={location}\n        navigate={navigate}\n        params={params}\n      />\n    );\n  }\n\n  return ComponentWithRouterProp;\n}\n","let SEND_MESSAGE = \"dialogs/SEND-MESSAGE\";\n\nlet initialState = {\n  messages: [\n    { id: 1, message: \"hi\" },\n    { id: 2, message: \"What da fuck!\" },\n    { id: 3, message: \"Esketit\" },\n  ],\n  dialogs: [\n    { id: 1, name: \"Lisa\" },\n    { id: 2, name: \"Vika\" },\n    { id: 3, name: \"Lilia\" },\n    { id: 4, name: \"Vlad\" },\n    { id: 5, name: \"Dima\" },\n  ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      return {\n        ...state,\n        messages: [\n          ...state.messages,\n          { id: state.messages.length + 1, message: action.newMessageBody },\n        ],\n      };\n    default:\n      return state;\n  }\n};\n\nexport const sendMessage = (newMessageBody) => ({\n  type: SEND_MESSAGE,\n  newMessageBody,\n});\n\nexport default dialogsReducer;\n","import axios from \"axios\";\n\nconst instance = axios.create({\n  withCredentials: true,\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n  headers: {\n    \"API-KEY\": \"5d8a7eff-a740-483e-8ca3-78892103be5c\",\n  },\n});\n\nexport const usersAPI = {\n  getUsers(page = 1, pageSize = 5) {\n    return instance\n      .get(`users?page=${page}&count=${pageSize}`)\n      .then((response) => {\n        return response.data;\n      });\n  },\n  getUser(id) {\n    console.warn(\"Obsolete method. Please profileAPI object\");\n    return profileAPI.getUser(id);\n  },\n  follow(id) {\n    return instance.post(`follow/${id}`).then((response) => {\n      return response.data;\n    });\n  },\n  unfollow(id) {\n    return instance.delete(`follow/${id}`).then((response) => {\n      return response.data;\n    });\n  },\n};\n\nexport const profileAPI = {\n  getUser(id) {\n    return instance.get(`profile/${id}`).then((response) => {\n      return response.data;\n    });\n  },\n  getStatus(id) {\n    return instance.get(`profile/status/${id}`).then((response) => {\n      return response.data;\n    });\n  },\n  updateStatus(status) {\n    return instance.put(\"profile/status\", { status }).then((response) => {\n      return response.data;\n    });\n  },\n  savePhoto(photo) {\n    const formData = new FormData();\n    formData.append(\"image\", photo);\n    return instance\n      .put(\"profile/photo\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      })\n      .then((response) => {\n        return response.data;\n      });\n  },\n  saveProfile(profile) {\n    return instance.put(\"profile\", profile).then((response) => {\n      return response.data;\n    });\n  },\n};\n\nexport const authAPI = {\n  getCurrentUser() {\n    return instance.get(`auth/me`).then((response) => {\n      return response.data;\n    });\n  },\n  login(email, password, rememberMe = false, captcha) {\n    return instance\n      .post(`auth/login`, { email, password, rememberMe, captcha })\n      .then((response) => {\n        return response.data;\n      });\n  },\n  logout() {\n    return instance.delete(`auth/login`).then((response) => {\n      return response.data;\n    });\n  },\n};\n\nexport const securityAPI = {\n  getCaptchaUrl() {\n    return instance.get(`security/get-captcha-url`).then((response) => {\n      return response.data;\n    });\n  },\n};\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1_En6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1FWUI\",\"friendsBlock\":\"NavBar_friendsBlock__2UJrf\",\"friendsImage\":\"NavBar_friendsImage__1Qaxa\"};"],"sourceRoot":""}